<!-- After login the user or manager, they will come to check this page and see the
 Participants / Events / Surveys / Milestones / Donations, chart and manager view -->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Ella Rises Dashboard</title>
  <style>
    /* Inline font-size adjustments (no external stylesheet changes) */
    body { font-size: 14px; line-height: 1.45; }
    h1 { font-size: 22px; }
    h2 { font-size: 18px; }
    h3 { font-size: 16px; margin-bottom: 6px; }
    .kpi-card .kpi-value { font-size: 18px; }
    .description { font-size: 14px; }
    </style>
  
  <%- include('partials/head') %>
</head>

<body>
<div class="layout">
  <%- include('partials/userbar') %>

  <!-- Sidebar navigation -->
  <aside class="sidebar">
    <div class="sidebar-brand">
      <a href="/dashboard" aria-label="Back to dashboard">
      <img src="/images/logo.png" alt="Ella Rises logo" class="brand-logo">
      </a>
    </div>
    <h2>Ella Rises</h2>
    <nav>
      <a href="/dashboard" class="active">Dashboard</a>
      <a href="/participants">Participants</a>
      <a href="/events">Events</a>
      <a href="/surveys">Surveys</a>
      <a href="/milestones">Milestones</a>
      <a href="/donations">Donations</a>

      <% if (isManager) { %>
        <hr />
        <a href="/admin/settings">Special Settings (Admin)</a>
      <% } %>
    </nav>
  </aside>

  <!-- Main content -->
  <main class="main">
    <header class="top-header">
      <h1>Dashboard</h1>
    </header>



    <!-- KPI section -->
    <section class="kpi-row">
      <div class="kpi-card">
        <h3>Post Secondary Graduation</h3>
        <div class="kpi-value">
          <h1>39%</h1>
        </div>
      </div>
      <div class="kpi-card">
        <h3>Post Collect Job</h3>
        <div class="kpi-value">
          <h1>58%</h1>
        </div>
      </div>
    </section>

    <!-- Visualization section -->
    <section class="grid">

      <!-- Tableau embeds -->

      <div class="card" style="flex: 1 1 320px; min-width: 320px;">
        <h3>Active Participants</h3>
        <div class='tableauPlaceholder tableau-embed' id='viz1764807617215'><noscript><a href='#'><img alt='Active Participants ' src='https://public.tableau.com/static/images/El/EllaRises_17648074635810/ACTIVE/1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='EllaRises_17648074635810/ACTIVE' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https://public.tableau.com/static/images/El/EllaRises_17648074635810/ACTIVE/1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' /></object></div>
        <script type='text/javascript'>
          (function() {
            var divElement = document.getElementById('viz1764807617215');
            var vizElement = divElement.getElementsByTagName('object')[0];
            var setSize = function() {
              var w = divElement.offsetWidth || 800;
              var h = Math.min(Math.max(w * 0.42, 320), 560);
              vizElement.style.width = '100%';
              vizElement.style.height = h + 'px';
            };
            setSize();
            window.addEventListener('resize', setSize);
            var scriptElement = document.createElement('script');
            scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
            vizElement.parentNode.insertBefore(scriptElement, vizElement);
          })();
        </script>
      </div>

      <div class="card">
        <h3>Milestones</h3>
        <div class='tableauPlaceholder tableau-embed tall' id='viz1764807659340'><noscript><a href='#'><img alt='EVENTS ' src='https://public.tableau.com/static/images/El/EllaRises_17648074635810/EVENTS/1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='EllaRises_17648074635810/EVENTS' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https://public.tableau.com/static/images/El/EllaRises_17648074635810/EVENTS/1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='en-US' /><param name='filter' value='publish=yes' /></object></div>
        <script type='text/javascript'>
          (function() {
            var divElement = document.getElementById('viz1764807659340');
            var vizElement = divElement.getElementsByTagName('object')[0];
            var setSize = function() {
              var w = divElement.offsetWidth || 800;
              var h = Math.min(Math.max(w * 0.55, 380), 780);
              vizElement.style.width = '100%';
              vizElement.style.height = h + 'px';
            };
            setSize();
            window.addEventListener('resize', setSize);
            var scriptElement = document.createElement('script');
            scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
            vizElement.parentNode.insertBefore(scriptElement, vizElement);
          })();
        </script>
      </div>

      </div>

    </section>
  </main>

</div>
</body>
</html>
